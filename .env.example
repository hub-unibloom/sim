# ==============================================
# SIM | CHESHIRE - PRODUCTION ENVIRONMENT
# ==============================================
# Architecture: Stateless Sim + External Cascata Data Layer
# Copy this file to .env and fill in the values.

# ----------------------------------------------
# 1. INFRASTRUCTURE & DOMAIN (REQUIRED)
# ----------------------------------------------
# Public domain for the application (Caddy uses this for automatic HTTPS)
DOMAIN_NAME=sim.your-company.com

# Public URLs (Accessible via browser)
NEXT_PUBLIC_APP_URL=https://${DOMAIN_NAME}
BETTER_AUTH_URL=https://${DOMAIN_NAME}
NEXT_PUBLIC_SOCKET_URL=https://${DOMAIN_NAME}/socket.io/

# Internal Communication (Docker Network) - Do not change unless you know what you are doing
SOCKET_SERVER_URL=http://realtime:3002

# ----------------------------------------------
# 2. CASCATA INTEGRATION (EXTERNAL DATA LAYER)
# ----------------------------------------------
# POSTGRES: Direct connection to External DB (Port 5432)
# Ensure port 5432 is open on Cascata firewall for this server's IP.
DATABASE_URL=postgresql://cascata_admin:secure_password@CASCATA_IP:5432/cascata_system

# Cheshire System uses the same DB connection
CASCATA_POSTGRES_URL=${DATABASE_URL}

# QDRANT: Direct connection to External Vector DB (Port 6333)
# Ensure port 6333 is open on Cascata firewall.
CASCATA_QDRANT_URL=http://CASCATA_IP:6333
CASCATA_QDRANT_API_KEY=

# ----------------------------------------------
# 3. SECURITY (GENERATE NEW KEYS!)
# ----------------------------------------------
# Generate using: openssl rand -hex 32
BETTER_AUTH_SECRET=
INTERNAL_API_SECRET=
ENCRYPTION_KEY= # Must be exactly 32 chars
API_ENCRYPTION_KEY= # Must be exactly 32 chars

# Copilot Integration Key
COPILOT_API_KEY=sim_copilot_secret

# ----------------------------------------------
# 4. AI MODELS & INTELLIGENCE
# ----------------------------------------------
# OpenAI Key for Embeddings and LLM
OPENAI_API_KEY=sk-proj-....

# Cheshire Memory Configuration
CHESHIRE_EMBEDDING_MODEL=text-embedding-3-small
CHESHIRE_EMBEDDING_DIM=1536
CHESHIRE_LLM_MODEL=gpt-4-turbo

# Agent Integrations
SIM_AGENT_API_URL=http://localhost:3000/api/agent

# External Automation Trigger (Optional - e.g. Make, Zapier, n8n)
N8N_WEBHOOK_URL=

# Ollama (Optional - for local inference)
OLLAMA_URL=http://host.docker.internal:11434

# ----------------------------------------------
# 5. SYSTEM CONFIG
# ----------------------------------------------
NODE_ENV=production
TZ=America/Sao_Paulo
